{% extends "base.html" %}
{% block content %}

<!-- ナビゲーションタブ -->
<ul class="nav nav-tabs" id="myTab" role="tablist">
  <li class="nav-item" role="presentation">
    <button class="nav-link active" id="tab1-tab" data-bs-toggle="tab" data-bs-target="#tab1" type="button" role="tab" aria-controls="tab1" aria-selected="true">Tab 1</button>
  </li>
  <li class="nav-item" role="presentation">
    <button class="nav-link" id="tab2-tab" data-bs-toggle="tab" data-bs-target="#tab2" type="button" role="tab" aria-controls="tab2" aria-selected="false">Tab 2</button>
  </li>
  <li class="nav-item" role="presentation">
    <button class="nav-link" id="tab3-tab" data-bs-toggle="tab" data-bs-target="#tab3" type="button" role="tab" aria-controls="tab3" aria-selected="false">Tab 3</button>
  </li>
</ul>

<!-- タブの内容 -->
<div class="tab-content" id="myTabContent">
  <div class="tab-pane fade show active" id="tab1" role="tabpanel" aria-labelledby="tab1-tab">
    <div class="card">
      <div class="card-body">
        <h5 class="card-title">External User Data</h5>
        <p class="card-text">Search and sort external user data easily.</p>
        <table id="externalDataTable" class="table table-striped table-hover">
          <thead class="table-dark">
            <tr>
              <th scope="col">Profile Picture</th>
              <th scope="col">First Name</th>
              <th scope="col">Last Name</th>
              <th scope="col">Email</th>
              <th scope="col">Phone</th>
              <th scope="col">City</th>
              <th scope="col">State</th>
              <th scope="col">Country</th>
            </tr>
          </thead>
          <tbody>
            {% for user in external_data %}
            <tr>
              <td><img src="{{ user.profile_picture }}" alt="Profile" width="50"></td>
              <td>{{ user.first_name }}</td>
              <td>{{ user.last_name }}</td>
              <td>{{ user.email }}</td>
              <td>{{ user.phone }}</td>
              <td>{{ user.city }}</td>
              <td>{{ user.state }}</td>
              <td>{{ user.country }}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
  <div class="tab-pane fade" id="tab2" role="tabpanel" aria-labelledby="tab2-tab">
    <div class="card">
      <div class="card-body">
        <h5 class="card-title">User List</h5>
          <p class="card-text">Search and sort user data easily.</p>
          <table id="userTable" class="table table-striped table-hover">
            <thead class="table-dark">
              <tr>
                <th scope="col">#</th>
                <th scope="col">Name</th>
                <th scope="col">Email</th>
              </tr>
            </thead>
            <tbody>
              {% for user in users %}
              <tr>
                  <td>{{ user.id }}</td>
                  <td>{{ user.name }}</td>
                  <td>{{ user.email }}</td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
      </div>
    </div>
  </div>
  <div class="tab-pane fade" id="tab3" role="tabpanel" aria-labelledby="tab3-tab">
    <section>
      <div class="py-8 px-6 bg-white">
        <div class="row align-items-center">
          <div class="col-12 col-lg-auto mb-4 mb-lg-0 me-auto">
            <div class="d-flex align-items-center">
              <span class="d-inline-block p-4 me-4 justify-content-center align-items-center text-white bg-primary rounded" style="width: 56px;height: 56px">
                <svg viewbox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M23.4506 4.60603C23.4408 4.59562 23.4379 4.58178 23.4277 4.5716C23.4175 4.56143 23.4034 4.55834 23.393 4.5485C20.899 2.06256 17.5213 0.666656 14 0.666656C10.4787 0.666656 7.10093 2.06256 4.60698 4.5485C4.59649 4.55834 4.58249 4.56135 4.57223 4.5716C4.56198 4.58186 4.55913 4.5956 4.54937 4.60603C2.69104 6.47326 1.42749 8.84913 0.918186 11.4338C0.408879 14.0185 0.676641 16.6961 1.68768 19.1287C2.69872 21.5614 4.40772 23.64 6.59899 25.1022C8.79026 26.5645 11.3656 27.3449 14 27.3449C16.6343 27.3449 19.2097 26.5645 21.4009 25.1022C23.5922 23.64 25.3012 21.5614 26.3123 19.1287C27.3233 16.6961 27.5911 14.0185 27.0817 11.4338C26.5724 8.84913 25.3089 6.47326 23.4506 4.60603V4.60603ZM13.9999 24.6667C12.4029 24.6661 10.8265 24.3063 9.38745 23.6139C7.94839 22.9215 6.68353 21.9142 5.68657 20.6667H11.0403C11.411 21.0858 11.8666 21.4214 12.3768 21.6513C12.8871 21.8811 13.4403 22 13.9999 22C14.5595 22 15.1127 21.8811 15.623 21.6513C16.1332 21.4214 16.5888 21.0858 16.9595 20.6667H22.3133C21.3163 21.9142 20.0515 22.9215 18.6124 23.6139C17.1733 24.3063 15.5969 24.6661 13.9999 24.6667V24.6667ZM12.6666 18C12.6666 17.7363 12.7448 17.4785 12.8913 17.2592C13.0378 17.04 13.246 16.8691 13.4897 16.7681C13.7333 16.6672 14.0014 16.6408 14.26 16.6923C14.5187 16.7437 14.7562 16.8707 14.9427 17.0572C15.1292 17.2437 15.2562 17.4812 15.3076 17.7399C15.3591 17.9985 15.3327 18.2666 15.2317 18.5102C15.1308 18.7539 14.9599 18.9621 14.7407 19.1086C14.5214 19.2551 14.2636 19.3333 13.9999 19.3333C13.6464 19.333 13.3075 19.1924 13.0575 18.9424C12.8075 18.6924 12.6669 18.3535 12.6666 18V18ZM23.8802 18.0028L23.8664 18H17.9999C17.9974 17.1755 17.7397 16.372 17.2622 15.6998C16.7847 15.0275 16.1109 14.5196 15.3332 14.2457V9.99999C15.3332 9.64637 15.1928 9.30723 14.9427 9.05718C14.6927 8.80713 14.3535 8.66666 13.9999 8.66666C13.6463 8.66666 13.3071 8.80713 13.0571 9.05718C12.807 9.30723 12.6666 9.64637 12.6666 9.99999V14.2457C11.8889 14.5196 11.2151 15.0275 10.7376 15.6998C10.2601 16.372 10.0024 17.1755 9.9999 18H4.13337L4.11961 18.0028C3.7728 17.1471 3.53956 16.2496 3.42585 15.3333H4.66657C5.02019 15.3333 5.35933 15.1928 5.60937 14.9428C5.85942 14.6927 5.9999 14.3536 5.9999 14C5.9999 13.6464 5.85942 13.3072 5.60937 13.0572C5.35933 12.8071 5.02019 12.6667 4.66657 12.6667H3.42585C3.6641 10.7714 4.40997 8.97575 5.58462 7.46947L6.45758 8.34244C6.58138 8.46624 6.72835 8.56444 6.8901 8.63144C7.05185 8.69844 7.22521 8.73292 7.40029 8.73292C7.57537 8.73292 7.74873 8.69844 7.91048 8.63144C8.07223 8.56444 8.2192 8.46623 8.343 8.34244C8.4668 8.21864 8.565 8.07167 8.632 7.90992C8.699 7.74817 8.73348 7.5748 8.73348 7.39972C8.73348 7.22465 8.69899 7.05128 8.63199 6.88953C8.56499 6.72778 8.46679 6.58081 8.34299 6.45702L7.47011 5.58414C8.97629 4.40987 10.7717 3.66421 12.6666 3.42594V4.66666C12.6666 5.02028 12.807 5.35942 13.0571 5.60946C13.3071 5.85951 13.6463 5.99999 13.9999 5.99999C14.3535 5.99999 14.6927 5.85951 14.9427 5.60946C15.1928 5.35942 15.3332 5.02028 15.3332 4.66666V3.42594C17.2281 3.66421 19.0235 4.40987 20.5297 5.58414L19.6568 6.45702C19.4068 6.70704 19.2663 7.04614 19.2663 7.39972C19.2663 7.75331 19.4068 8.09241 19.6568 8.34244C19.9068 8.59246 20.2459 8.73292 20.5995 8.73292C20.9531 8.73292 21.2922 8.59246 21.5422 8.34244L22.4152 7.46947C23.5898 8.97575 24.3357 10.7714 24.574 12.6667H23.3332C22.9796 12.6667 22.6405 12.8071 22.3904 13.0572C22.1404 13.3072 21.9999 13.6464 21.9999 14C21.9999 14.3536 22.1404 14.6927 22.3904 14.9428C22.6405 15.1928 22.9796 15.3333 23.3332 15.3333H24.574C24.4602 16.2496 24.227 17.1471 23.8802 18.0028V18.0028Z" fill="currentColor"></path>
                </svg>
              </span>
              <div>
                <h4>Product Analysis Dashboard</h4>
                <p class="mb-0 small text-secondary">Take care of your business. Achieve your goals and increase profits.</p>
              </div>
            </div>
          </div>
          <div class="col-12 col-lg-auto">
            <a class="btn btn-sm btn-primary-light me-3 d-inline-flex align-items-center small" href="#">
              <span class="d-inline-block me-2 text-primary">
                <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M14 9.33334C13.6 9.33334 13.3333 9.60001 13.3333 10V12.6667C13.3333 13.0667 13.0667 13.3333 12.6667 13.3333H3.33334C2.93334 13.3333 2.66668 13.0667 2.66668 12.6667V10C2.66668 9.60001 2.40001 9.33334 2.00001 9.33334C1.60001 9.33334 1.33334 9.60001 1.33334 10V12.6667C1.33334 13.8 2.20001 14.6667 3.33334 14.6667H12.6667C13.8 14.6667 14.6667 13.8 14.6667 12.6667V10C14.6667 9.60001 14.4 9.33334 14 9.33334ZM5.80001 5.13334L7.33334 3.60001V10C7.33334 10.4 7.60001 10.6667 8.00001 10.6667C8.40001 10.6667 8.66668 10.4 8.66668 10V3.60001L10.2 5.13334C10.4667 5.40001 10.8667 5.40001 11.1333 5.13334C11.4 4.86668 11.4 4.46668 11.1333 4.20001L8.46668 1.53334C8.20001 1.26668 7.80001 1.26668 7.53334 1.53334L4.86668 4.20001C4.60001 4.46668 4.60001 4.86668 4.86668 5.13334C5.13334 5.40001 5.53334 5.40001 5.80001 5.13334Z" fill="currentColor"></path>
                </svg>
              </span>
              <span>Download</span>
            </a>
            <a class="btn btn-sm btn-primary-light me-3 d-inline-flex align-items-center small" href="#">
              <span class="d-inline-block me-2 text-primary">
                <svg width="14" height="14" viewbox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M13.2133 5.36665L11.9533 4.94665L12.5466 3.75998C12.6067 3.63577 12.6269 3.49596 12.6042 3.35983C12.5815 3.2237 12.5171 3.09797 12.4199 2.99998L10.9999 1.57998C10.9014 1.48137 10.7745 1.41612 10.637 1.3934C10.4994 1.37068 10.3582 1.39163 10.2333 1.45332L9.04659 2.04665L8.62659 0.786649C8.58223 0.65531 8.49803 0.541066 8.38572 0.459814C8.2734 0.378562 8.13854 0.334345 7.99992 0.333315H5.99992C5.86016 0.332954 5.72382 0.376528 5.61017 0.457877C5.49652 0.539225 5.41131 0.654235 5.36659 0.786649L4.94659 2.04665L3.75992 1.45332C3.63571 1.39317 3.4959 1.37305 3.35977 1.39574C3.22364 1.41843 3.09791 1.4828 2.99992 1.57998L1.57992 2.99998C1.48131 3.09849 1.41606 3.22543 1.39334 3.36295C1.37062 3.50047 1.39157 3.64166 1.45325 3.76665L2.04659 4.95332L0.786588 5.37332C0.655249 5.41767 0.541005 5.50187 0.459753 5.61419C0.378501 5.72651 0.334284 5.86136 0.333254 5.99998V7.99998C0.332893 8.13974 0.376467 8.27609 0.457815 8.38973C0.539164 8.50338 0.654174 8.58859 0.786588 8.63332L2.04659 9.05332L1.45325 10.24C1.39311 10.3642 1.37299 10.504 1.39568 10.6401C1.41837 10.7763 1.48274 10.902 1.57992 11L2.99992 12.42C3.09843 12.5186 3.22537 12.5838 3.36289 12.6066C3.50041 12.6293 3.64159 12.6083 3.76659 12.5466L4.95325 11.9533L5.37325 13.2133C5.41798 13.3457 5.50319 13.4607 5.61684 13.5421C5.73048 13.6234 5.86683 13.667 6.00659 13.6666H8.00659C8.14635 13.667 8.28269 13.6234 8.39634 13.5421C8.50999 13.4607 8.5952 13.3457 8.63992 13.2133L9.05992 11.9533L10.2466 12.5466C10.37 12.6053 10.5085 12.6246 10.6432 12.6019C10.7779 12.5793 10.9025 12.5157 10.9999 12.42L12.4199 11C12.5185 10.9015 12.5838 10.7745 12.6065 10.637C12.6292 10.4995 12.6083 10.3583 12.5466 10.2333L11.9533 9.04665L13.2133 8.62665C13.3446 8.58229 13.4588 8.4981 13.5401 8.38578C13.6213 8.27346 13.6656 8.1386 13.6666 7.99998V5.99998C13.6669 5.86022 13.6234 5.72388 13.542 5.61023C13.4607 5.49658 13.3457 5.41137 13.2133 5.36665ZM12.3333 7.51998L11.5333 7.78665C11.3493 7.84632 11.1805 7.9453 11.0386 8.07672C10.8967 8.20813 10.7851 8.36884 10.7116 8.5477C10.638 8.72656 10.6042 8.91928 10.6126 9.1125C10.6209 9.30572 10.6712 9.49481 10.7599 9.66665L11.1399 10.4266L10.4066 11.16L9.66659 10.76C9.49562 10.6748 9.30836 10.6274 9.11746 10.6208C8.92657 10.6143 8.7365 10.6489 8.56013 10.7222C8.38376 10.7956 8.22521 10.9059 8.0952 11.0459C7.96519 11.1858 7.86677 11.352 7.80659 11.5333L7.53992 12.3333H6.47992L6.21325 11.5333C6.15358 11.3494 6.0546 11.1806 5.92319 11.0387C5.79177 10.8968 5.63106 10.7852 5.4522 10.7116C5.27334 10.638 5.08062 10.6043 4.8874 10.6126C4.69419 10.621 4.5051 10.6713 4.33325 10.76L3.57325 11.14L2.83992 10.4066L3.23992 9.66665C3.32865 9.49481 3.37893 9.30572 3.38728 9.1125C3.39564 8.91928 3.36185 8.72656 3.28828 8.5477C3.21471 8.36884 3.10311 8.20813 2.96122 8.07672C2.81933 7.9453 2.65055 7.84632 2.46659 7.78665L1.66659 7.51998V6.47998L2.46659 6.21331C2.65055 6.15364 2.81933 6.05467 2.96122 5.92325C3.10311 5.79183 3.21471 5.63112 3.28828 5.45226C3.36185 5.2734 3.39564 5.08068 3.38728 4.88746C3.37893 4.69425 3.32865 4.50516 3.23992 4.33332L2.85992 3.59332L3.59325 2.85998L4.33325 3.23998C4.5051 3.32871 4.69419 3.379 4.8874 3.38735C5.08062 3.3957 5.27334 3.36191 5.4522 3.28834C5.63106 3.21477 5.79177 3.10317 5.92319 2.96128C6.0546 2.81939 6.15358 2.65061 6.21325 2.46665L6.47992 1.66665H7.51992L7.78659 2.46665C7.84626 2.65061 7.94524 2.81939 8.07665 2.96128C8.20807 3.10317 8.36878 3.21477 8.54764 3.28834C8.7265 3.36191 8.91922 3.3957 9.11244 3.38735C9.30566 3.379 9.49474 3.32871 9.66659 3.23998L10.4266 2.85998L11.1599 3.59332L10.7599 4.33332C10.6747 4.50428 10.6273 4.69155 10.6208 4.88244C10.6143 5.07334 10.6489 5.2634 10.7222 5.43977C10.7955 5.61614 10.9059 5.77469 11.0458 5.9047C11.1857 6.03471 11.352 6.13314 11.5333 6.19332L12.3333 6.45998V7.51998ZM6.99992 4.33332C6.4725 4.33332 5.95693 4.48971 5.5184 4.78273C5.07987 5.07575 4.73808 5.49222 4.53624 5.97949C4.33441 6.46676 4.2816 7.00294 4.38449 7.52022C4.48739 8.03751 4.74136 8.51266 5.1143 8.8856C5.48724 9.25854 5.9624 9.51252 6.47968 9.61541C6.99696 9.7183 7.53314 9.66549 8.02041 9.46366C8.50768 9.26183 8.92416 8.92003 9.21717 8.4815C9.51019 8.04297 9.66659 7.5274 9.66659 6.99998C9.66659 6.29274 9.38564 5.61446 8.88554 5.11436C8.38544 4.61427 7.70716 4.33332 6.99992 4.33332V4.33332ZM6.99992 8.33332C6.73621 8.33332 6.47843 8.25512 6.25916 8.10861C6.03989 7.9621 5.869 7.75386 5.76808 7.51023C5.66716 7.26659 5.64076 6.9985 5.69221 6.73986C5.74365 6.48122 5.87064 6.24364 6.05711 6.05717C6.24358 5.8707 6.48116 5.74371 6.7398 5.69227C6.99844 5.64082 7.26653 5.66723 7.51017 5.76814C7.7538 5.86906 7.96204 6.03996 8.10855 6.25922C8.25506 6.47849 8.33325 6.73627 8.33325 6.99998C8.33325 7.3536 8.19278 7.69274 7.94273 7.94279C7.69268 8.19284 7.35354 8.33332 6.99992 8.33332Z" fill="currentColor"></path>
                </svg>
              </span>
              <span>Settings</span>
            </a>
            <a class="btn btn-sm btn-primary d-inline-flex align-items-center small" href="#">
              <span class="d-inline-block me-2 text-primary-light">
                <svg width="12" height="14" viewbox="0 0 12 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M8.66667 12.3333H3.33333C2.8029 12.3333 2.29419 12.1226 1.91912 11.7476C1.54405 11.3725 1.33333 10.8638 1.33333 10.3333V3.66668C1.33333 3.48987 1.2631 3.3203 1.13807 3.19527C1.01305 3.07025 0.843478 3.00001 0.666667 3.00001C0.489856 3.00001 0.320286 3.07025 0.195262 3.19527C0.0702379 3.3203 0 3.48987 0 3.66668V10.3333C0 11.2174 0.351189 12.0652 0.976311 12.6904C1.60143 13.3155 2.44928 13.6667 3.33333 13.6667H8.66667C8.84348 13.6667 9.01305 13.5964 9.13807 13.4714C9.2631 13.3464 9.33333 13.1768 9.33333 13C9.33333 12.8232 9.2631 12.6536 9.13807 12.5286C9.01305 12.4036 8.84348 12.3333 8.66667 12.3333ZM4.66667 7.66668C4.66667 7.84349 4.7369 8.01306 4.86193 8.13808C4.98695 8.26311 5.15652 8.33334 5.33333 8.33334H8.66667C8.84348 8.33334 9.01305 8.26311 9.13807 8.13808C9.2631 8.01306 9.33333 7.84349 9.33333 7.66668C9.33333 7.48987 9.2631 7.3203 9.13807 7.19527C9.01305 7.07025 8.84348 7.00001 8.66667 7.00001H5.33333C5.15652 7.00001 4.98695 7.07025 4.86193 7.19527C4.7369 7.3203 4.66667 7.48987 4.66667 7.66668ZM12 4.96001C11.9931 4.89877 11.9796 4.83843 11.96 4.78001V4.72001C11.9279 4.65146 11.8852 4.58845 11.8333 4.53334V4.53334L7.83333 0.533343C7.77822 0.481488 7.71521 0.438731 7.64667 0.406677C7.62677 0.40385 7.60657 0.40385 7.58667 0.406677C7.51894 0.367838 7.44415 0.342906 7.36667 0.333344H4.66667C4.13623 0.333344 3.62753 0.544057 3.25245 0.91913C2.87738 1.2942 2.66667 1.80291 2.66667 2.33334V9.00001C2.66667 9.53044 2.87738 10.0392 3.25245 10.4142C3.62753 10.7893 4.13623 11 4.66667 11H10C10.5304 11 11.0391 10.7893 11.4142 10.4142C11.7893 10.0392 12 9.53044 12 9.00001V5.00001C12 5.00001 12 5.00001 12 4.96001ZM8 2.60668L9.72667 4.33334H8.66667C8.48986 4.33334 8.32029 4.26311 8.19526 4.13808C8.07024 4.01306 8 3.84349 8 3.66668V2.60668ZM10.6667 9.00001C10.6667 9.17682 10.5964 9.34639 10.4714 9.47141C10.3464 9.59644 10.1768 9.66668 10 9.66668H4.66667C4.48986 9.66668 4.32029 9.59644 4.19526 9.47141C4.07024 9.34639 4 9.17682 4 9.00001V2.33334C4 2.15653 4.07024 1.98696 4.19526 1.86194C4.32029 1.73691 4.48986 1.66668 4.66667 1.66668H6.66667V3.66668C6.66847 3.89411 6.70905 4.11956 6.78667 4.33334H5.33333C5.15652 4.33334 4.98695 4.40358 4.86193 4.52861C4.7369 4.65363 4.66667 4.8232 4.66667 5.00001C4.66667 5.17682 4.7369 5.34639 4.86193 5.47141C4.98695 5.59644 5.15652 5.66668 5.33333 5.66668H10.6667V9.00001Z" fill="currentColor"></path>
                </svg>
              </span>
              <span>Report</span>
            </a>
          </div>
        </div>
      </div>
    </section>

    
  </div>
</div>




<!-- Added: DataTables Initialization Script -->
<script>
  $(document).ready(function() {
    // Initialize DataTables for the first table
    $('#userTable').DataTable({ 
      paging: true,
      searching: true,
      ordering: true,
      order: [[0, 'asc']]
    });

    // Initialize DataTables for the second table
    $('#externalDataTable').DataTable({
      paging: true,
      searching: true, 
      ordering: true,
      order: [[1, 'asc']] 
    });
  });
</script>

{% endblock %}